{"ast":null,"code":"import _defineProperty from\"C:/Users/Felipe/OneDrive/Documentos/Estudos/projetoE-commerce/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Felipe/OneDrive/Documentos/Estudos/projetoE-commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Felipe/OneDrive/Documentos/Estudos/projetoE-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState}from\"react\";import{useFetch}from\"../../Utils/useFetch\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);export var ShopContextProvider=function ShopContextProvider(props){var _useFetch=useFetch(),products=_useFetch.products;var getDefaultCart=function getDefaultCart(){var cart={};for(var i=1;i<products.length+1;i++){cart[i]=1;}//console.log(cart)\nreturn cart;};var _useState=useState(getDefaultCart()),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var _useState3=useState(getDefaultCart()),_useState4=_slicedToArray(_useState3,2),favItems=_useState4[0],setFavItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),priceProducts=_useState6[0],setPriceProducts=_useState6[1];var addToCart=function addToCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,itemId));});};var removeFromCart=function removeFromCart(itemId,productPrice){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,itemId-itemId));});if(priceProducts===0){setPriceProducts(0);}else{setPriceProducts(priceProducts-productPrice);}};var addToFavs=function addToFavs(itemId){setFavItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,itemId));});};var removeFromFavs=function removeFromFavs(itemId){setFavItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,itemId-itemId));});};var checkedOrNot=function checkedOrNot(e,productPrice){if(e.target.checked){setPriceProducts(productPrice+priceProducts);}else{setPriceProducts(priceProducts-productPrice);}};var contextValue={cartItems:cartItems,addToCart:addToCart,removeFromCart:removeFromCart,checkedOrNot:checkedOrNot,priceProducts:priceProducts,setPriceProducts:setPriceProducts,favItems:favItems,addToFavs:addToFavs,removeFromFavs:removeFromFavs};/*\r\n    useEffect( () =>{\r\n        const guardarLocalStorage = (id) => localStorage.setItem(`produtosCarrinho`, JSON.stringify(id))\r\n        const pegarLocalStorage = () => JSON.parse(localStorage.getItem('produtosCarrinho')) ?? []\r\n       \r\n        const dbCLient = pegarLocalStorage()\r\n        dbCLient.push(cartItems)\r\n        guardarLocalStorage(cartItems)\r\n    }, [cartItems])\r\n    */return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};","map":{"version":3,"names":["createContext","useState","useFetch","jsx","_jsx","ShopContext","ShopContextProvider","props","_useFetch","products","getDefaultCart","cart","i","length","_useState","_useState2","_slicedToArray","cartItems","setCartItems","_useState3","_useState4","favItems","setFavItems","_useState5","_useState6","priceProducts","setPriceProducts","addToCart","itemId","prev","_objectSpread","_defineProperty","removeFromCart","productPrice","addToFavs","removeFromFavs","checkedOrNot","e","target","checked","contextValue","Provider","value","children"],"sources":["C:/Users/Felipe/OneDrive/Documentos/Estudos/projetoE-commerce/src/Components/Context/ShopContext.jsx"],"sourcesContent":["import { createContext, useState } from \"react\"\r\nimport { useFetch } from \"../../Utils/useFetch\"\r\n\r\nexport const ShopContext = createContext(null)\r\n\r\nexport const ShopContextProvider = (props) =>{\r\n    const { products } = useFetch()\r\n\r\n    const getDefaultCart = () =>{\r\n\r\n        let cart = {}\r\n    \r\n        for( let i = 1; i < products.length + 1; i++){\r\n            cart[i] = 1\r\n        }\r\n\r\n        //console.log(cart)\r\n    \r\n        return cart\r\n    }\r\n\r\n    const [cartItems, setCartItems] = useState(getDefaultCart())\r\n    const [favItems, setFavItems] = useState(getDefaultCart())\r\n    const [priceProducts, setPriceProducts] = useState(0)\r\n\r\n    const addToCart = (itemId) => {\r\n        setCartItems((prev) => ({ ...prev, [itemId]: itemId}));\r\n    };\r\n\r\n    const removeFromCart = (itemId, productPrice) =>{\r\n        setCartItems(\r\n            (prev) => ({...prev, [itemId]: itemId - itemId})\r\n        )\r\n        \r\n        if(priceProducts === 0){\r\n            setPriceProducts(0)\r\n        } else{\r\n            setPriceProducts(priceProducts - productPrice)\r\n        }\r\n    }\r\n\r\n    const addToFavs = (itemId) => {\r\n        setFavItems((prev) => ({ ...prev, [itemId]: itemId}));\r\n    };\r\n\r\n    const removeFromFavs = (itemId) =>{\r\n        setFavItems(\r\n            (prev) => ({...prev, [itemId]: itemId - itemId})\r\n        )\r\n        \r\n    }\r\n\r\n    const checkedOrNot = (e, productPrice) =>{\r\n        if(e.target.checked){\r\n            setPriceProducts(productPrice + priceProducts)\r\n        } else{\r\n            setPriceProducts(priceProducts - productPrice)\r\n        }\r\n    }\r\n\r\n    const contextValue = { \r\n        cartItems, \r\n        addToCart, \r\n        removeFromCart, \r\n        checkedOrNot, \r\n        priceProducts, \r\n        setPriceProducts,\r\n        favItems, \r\n        addToFavs, \r\n        removeFromFavs\r\n    }\r\n\r\n    /*\r\n    useEffect( () =>{\r\n        const guardarLocalStorage = (id) => localStorage.setItem(`produtosCarrinho`, JSON.stringify(id))\r\n        const pegarLocalStorage = () => JSON.parse(localStorage.getItem('produtosCarrinho')) ?? []\r\n       \r\n        const dbCLient = pegarLocalStorage()\r\n        dbCLient.push(cartItems)\r\n        guardarLocalStorage(cartItems)\r\n    }, [cartItems])\r\n    */\r\n\r\n\r\n    return <ShopContext.Provider value={contextValue}>{props.children}</ShopContext.Provider>\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}